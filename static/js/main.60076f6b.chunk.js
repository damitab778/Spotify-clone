(this["webpackJsonpspotify-clone"]=this["webpackJsonpspotify-clone"]||[]).push([[0],{56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),n=c(23),r=c.n(n),i=(c(56),c(4)),l=(c(57),c(58),c.p+"static/media/spotify.36c67124.png"),o="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("40e44171c4ed416ab2270754df3d289d","&redirect_uri=").concat("https://spotifyy-clone.netlify.app/","&scope=").concat(["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-top-read","user-modify-playback-state","streaming","user-read-email","user-read-private","user-library-read","user-library-modify"].join("%20"),"&response_type=token&show_dialog=true"),j=c(1);var u=function(){return Object(j.jsxs)("div",{className:"login",children:[Object(j.jsx)("img",{src:l,alt:"spotify_logo"}),Object(j.jsx)("a",{href:o,children:"Login"})]})},d=c(18),b=c.n(d),O=(c(60),c(61),c.p+"static/media/logo.d06d84b4.png"),m=c(13),_=(c(62),Object(a.createContext)()),h=function(e){var t=e.initialState,c=e.reducer,s=e.children;return Object(j.jsx)(_.Provider,{value:Object(a.useReducer)(c,t),children:s})},f=function(){return Object(a.useContext)(_)},v=c(19);var p=function(e){var t=e.title,c=e.Icon,a=e.playlistId,s=e.playlistUri,n=f(),r=Object(i.a)(n,2);Object(m.a)(r[0]);var l=r[1];return Object(j.jsxs)("div",{className:"sidebarOption",children:[c&&Object(j.jsx)(c,{className:"sidebarOption__icon"}),c?"Search"===t?Object(j.jsx)("h3",{children:Object(j.jsx)(v.b,{to:"search",children:t})}):"Home"===t?Object(j.jsx)("h3",{children:Object(j.jsx)(v.b,{to:"/",children:t})}):Object(j.jsx)("h3",{children:t}):Object(j.jsx)("p",{onClick:function(){l({type:"SET_PLAYLIST_ID",playListId:a}),l({type:"SET_TRACK_URI",trackUri:s})},children:t})]})},x=c(35),y=c.n(x),k=c(27),g=c.n(k),T=c(36),S=c.n(T);var E=function(){var e,t=f(),c=Object(i.a)(t,2),a=c[0].playlist;return c[1],Object(j.jsxs)("div",{className:"sidebar",children:[Object(j.jsx)("a",{target:"_blank ",href:"https://www.spotify.com/pl/home/",children:Object(j.jsx)("img",{className:"sidebar__logo",src:O,alt:"logo"})}),Object(j.jsx)(p,{title:"Home",Icon:y.a}),Object(j.jsx)(p,{title:"Search",Icon:g.a}),Object(j.jsx)(p,{title:"Your Libary",Icon:S.a}),Object(j.jsx)("h5",{children:"Playlist"}),Object(j.jsx)("hr",{}),null===a||void 0===a||null===(e=a.items)||void 0===e?void 0:e.map((function(e,t){return Object(j.jsx)(p,{title:e.name,playlistId:e.id,playlistUri:e.uri},t)}))]})},A=(c(69),c(70),c(94));var N=function(){var e,t=f(),c=Object(i.a)(t,2),a=c[0].user;return c[1],Object(j.jsx)("div",{className:"header",children:Object(j.jsxs)("div",{className:"header__container",children:[Object(j.jsx)(A.a,{src:null===a||void 0===a||null===(e=a.images[0])||void 0===e?void 0:e.url,alt:null===a||void 0===a?void 0:a.display_name}),Object(j.jsx)("h4",{children:null===a||void 0===a?void 0:a.display_name})]})})},R=c(37),C=c.n(R),I=c(38),L=c.n(I),U=c(39),w=c.n(U);c(71);var K=function(e){var t=e.track,c=f(),a=Object(i.a)(c,2);Object(m.a)(a[0]);var s=a[1];return Object(j.jsxs)("div",{className:"songRow",onClick:function(){s({type:"SET_TRACK_URI",trackUri:t.uri})},children:[Object(j.jsx)("img",{className:"songRow__album",src:t.album.images[0].url,alt:""}),Object(j.jsxs)("div",{className:"songRow__info",children:[Object(j.jsx)("h1",{children:t.name}),Object(j.jsxs)("p",{children:[t.artists.map((function(e){return e.name})).join(", "),t.album.name]})]})]})};var B=function(e){var t=e.spotify,c=f(),a=Object(i.a)(c,2),s=a[0].discover_weekly;return a[1],Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)(N,{spotify:t}),Object(j.jsxs)("div",{className:"body__info",children:[Object(j.jsx)("img",{src:null===s||void 0===s?void 0:s.images[0].url,alt:"Discover Weekly"}),Object(j.jsxs)("div",{className:"body__infoText",children:[Object(j.jsx)("strong",{children:"PLAYLIST"}),Object(j.jsx)("h2",{children:"Discover Weekly"}),Object(j.jsx)("p",{children:null===s||void 0===s?void 0:s.description})]})]}),Object(j.jsxs)("div",{className:"body__songs",children:[Object(j.jsxs)("div",{className:"body__icons",children:[Object(j.jsx)(C.a,{className:"body__shuffle"}),Object(j.jsx)(L.a,{fontSize:"large"}),Object(j.jsx)(w.a,{})]}),null===s||void 0===s?void 0:s.tracks.items.map((function(e,t){return Object(j.jsx)(K,{track:e.track},t)}))]})]})},P=(c(72),c(48));c(74);var M=function(){var e=f(),t=Object(i.a)(e,2),c=t[0],a=c.token,s=c.trackUri;return t[1],Object(j.jsx)("div",{className:"player",children:Object(j.jsx)(P.a,{styles:{sliderColor:"green",activeColor:"green",loaderColor:"green",bgColor:"#181818",color:"lightgray",trackNameColor:"#fff",sliderHandleColor:"green"},autoPlay:!0,showSaveIcon:!0,token:a,uris:s?[s]:["spotify:playlist:0yN0S2jhUptsI7RLBwDypz"]})})};var D=function(){return Object(j.jsx)("div",{className:"footer",children:Object(j.jsx)(M,{})})},H=c(5);c(75),c(76);var Y=function(e){var t=e.trackDuration,c=e.trackName,a=e.trackUri,s=e.trackAlbum,n=e.trackId,r=f(),l=Object(i.a)(r,2);Object(m.a)(l[0]);var o=l[1];return Object(j.jsxs)("div",{className:"top__right",onClick:function(){o({type:"SET_TRACK_URI",trackUri:a})},children:[Object(j.jsxs)("div",{className:"top__right__left",children:[Object(j.jsx)("img",{src:s,alt:"track_img"}),Object(j.jsx)("p",{value:n,children:c})]}),Object(j.jsxs)("p",{className:"time",children:[" ",(t/1e3/60).toFixed(2)]})]})};c(77);var z=function(e){var t,c=e.name,a=e.img;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"top__left",children:[Object(j.jsx)("img",{src:null===(t=a[0])||void 0===t?void 0:t.url,alt:"img ".concat(c)}),Object(j.jsxs)("h2",{children:[" ",c]}),Object(j.jsx)("p",{children:"Author"})]})})};c(78);var W=function(e){var t,c=e.album,a=f(),s=Object(i.a)(a,2);Object(m.a)(s[0]);var n=s[1];return Object(j.jsxs)("div",{onClick:function(){n({type:"SET_TRACK_URI",trackUri:c.uri})},className:"albums",children:[Object(j.jsx)("img",{src:null===(t=c.images[0])||void 0===t?void 0:t.url,alt:"Album ".concat(c.name)}),Object(j.jsx)("p",{children:c.name})]})};c(79);var F=function(e){var t=e.track,c=f(),a=Object(i.a)(c,2);Object(m.a)(a[0]);var s=a[1];return Object(j.jsxs)("div",{className:"songRow",onClick:function(){s({type:"SET_TRACK_URI",trackUri:t.uri})},children:[Object(j.jsx)("img",{className:"songRow__album",src:t.album.images[0].url,alt:""}),Object(j.jsxs)("div",{className:"songRow__info",children:[Object(j.jsx)("h1",{children:t.name}),Object(j.jsxs)("p",{children:[t.artists.map((function(e){return e.name})).join(", "),t.album.name]})]})]})},J=new b.a;var V=function(){var e,t=f(),c=Object(i.a)(t,2),s=c[0],n=s.user,r=s.searchAll,l=s.info,o=s.songs,u=s.albums,d=s.songsBottom,b=s.searchTrack,O=c[1],m=Object(a.useState)(""),_=Object(i.a)(m,2),h=_[0],v=_[1],p=Object(a.useState)(0),x=Object(i.a)(p,2),y=x[0],k=x[1];return Object(a.useEffect)((function(){k(0)}),[r]),Object(a.useEffect)((function(){J.search(h,["artist","track","album","playlist"]).then((function(e){console.log("searchALL",e),O({type:"SET_SEARCH_ALL",searchAll:e})})),J.searchTracks(h).then((function(e){O({type:"SET_SEARCH_TRACK",searchTrack:e})}))}),[h,O]),Object(a.useEffect)((function(){null===r||void 0===r||r.artists.items.map((function(e){return e.popularity>y?k(e.popularity):null}))}),[r,y]),Object(a.useEffect)((function(){null===r||void 0===r||r.artists.items.filter((function(e){return e.popularity===y?O({type:"SET_MOST_POPULAR",info:{name:e.name,img:e.images,id:e.id}}):null}))}),[r,O,y]),Object(a.useEffect)((function(){O({type:"CLR_ALBUM"}),null===r||void 0===r||r.albums.items.map((function(e){e.artists.map((function(t){return(null===l||void 0===l?void 0:l.id)===t.id?O({type:"SET_ALBUM",albumInfo:e}):null}))}))}),[r,l,O]),Object(a.useEffect)((function(){O({type:"CLR_TOP_TRACK"}),null===r||void 0===r||r.tracks.items.map((function(e){e.artists.map((function(t){var c;return(null===l||void 0===l?void 0:l.id)===t.id?O({type:"SET_TOP_TRACK",trackInfo:{trackUri:e.uri,trackAlbum:null===(c=e.album.images[0])||void 0===c?void 0:c.url,trackId:e.id,trackName:e.name,trackDuration:e.duration_ms}}):null}))}))}),[r,l,O]),Object(a.useEffect)((function(){O({type:"CLR_BOTTOM_TRACKS"}),null===b||void 0===b||b.tracks.items.map((function(e){return O({type:"SET_BOTTOM_TRACKS",trackBottom:e})}))}),[b,O]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"search",children:[Object(j.jsxs)("div",{className:"search__header",children:[Object(j.jsxs)("div",{className:"search__header__left",children:[Object(j.jsx)(g.a,{fontSize:"large"}),Object(j.jsx)("input",{type:"text",placeholder:"Search fors Songs, Artist..",value:h,onChange:function(e){v(e.target.value)}})]}),Object(j.jsxs)("div",{className:"search__header__right",children:[Object(j.jsx)(A.a,{src:null===n||void 0===n||null===(e=n.images[0])||void 0===e?void 0:e.url,alt:null===n||void 0===n?void 0:n.display_name}),Object(j.jsx)("h4",{children:null===n||void 0===n?void 0:n.display_name})]})]}),r?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"header__best__result",children:"Best reasult artist"}),Object(j.jsxs)("div",{className:"search__body",children:[Object(j.jsxs)("div",{className:"search__body__top",children:[Object(j.jsx)("div",{className:"search__body__top__wrapper",children:l?Object(j.jsx)("div",{className:"body__top__left",children:Object(j.jsx)(z,{img:l.img,name:l.name},l.id)}):null}),o?Object(j.jsx)("div",{className:"body__top__right",children:o.map((function(e,t){return Object(j.jsx)(Y,{trackDuration:e.trackDuration,trackName:e.trackName,trackUri:e.trackUri,trackAlbum:e.trackAlbum,trackId:e.trackId},t)}))}):null]}),Object(j.jsxs)("div",{className:"search__body__bottom",children:[u?Object(j.jsx)("h1",{children:"Albums"}):null,Object(j.jsx)("div",{className:"body__bottom__albums",children:null===u||void 0===u?void 0:u.slice(0,6).map((function(e,t){return Object(j.jsx)(W,{album:e},t)}))}),Object(j.jsxs)("div",{className:"body__bottom__track",children:[Object(j.jsx)("h1",{children:"Tracks"}),null===d||void 0===d?void 0:d.slice(0,10).map((function(e,t){return Object(j.jsx)(F,{track:e},t)}))]})]})]})]}):null]})})};var Z=function(){var e=new b.a,t=f(),c=Object(i.a)(t,2),s=c[0].playListId,n=c[1];return Object(a.useEffect)((function(){e.getPlaylist(s).then((function(e){n({type:"SET_DISCOVER_WEEKLY",discover_weekly:e})}))}),[s]),Object(j.jsxs)("div",{className:"music",children:[Object(j.jsxs)("div",{className:"music__body",children:[Object(j.jsx)(E,{}),Object(j.jsx)(H.a,{path:"/",exact:!0,component:B}),Object(j.jsx)(H.a,{path:"/search",component:V})]}),Object(j.jsx)(D,{})]})},q=new b.a;var G=function(){var e=f(),t=Object(i.a)(e,2),c=t[0].token,s=t[1];return Object(a.useEffect)((function(){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var c=t.split("=");return e[c[0]]=decodeURIComponent(c[1]),e}),{});window.location.hash="";var t=e.access_token;t&&(s({type:"SET_TOKEN",token:t}),q.setAccessToken(t),q.getMe().then((function(e){s({type:"SET_USER",user:e})})),q.getUserPlaylists().then((function(e){s({type:"SET_PLAYLIST",playlist:e})})))}),[]),Object(j.jsx)(v.a,{children:Object(j.jsx)("div",{className:"app",children:c?Object(j.jsx)(Z,{}):Object(j.jsx)(u,{})})})},Q=c(29),X=c(3),$=function(e,t){switch(console.log("AKCJA",t),t.type){case"SET_USER":return Object(X.a)(Object(X.a)({},e),{},{user:t.user});case"SET_TOKEN":return Object(X.a)(Object(X.a)({},e),{},{token:t.token});case"SET_PLAYLIST":return Object(X.a)(Object(X.a)({},e),{},{playlist:t.playlist});case"SET_DISCOVER_WEEKLY":return Object(X.a)(Object(X.a)({},e),{},{discover_weekly:t.discover_weekly});case"SET_TRACK_URI":return Object(X.a)(Object(X.a)({},e),{},{trackUri:t.trackUri});case"SET_PLAYLIST_ID":return Object(X.a)(Object(X.a)({},e),{},{playListId:t.playListId});case"SET_SEARCH_ALL":return Object(X.a)(Object(X.a)({},e),{},{searchAll:t.searchAll});case"SET_SEARCH_TRACK":return Object(X.a)(Object(X.a)({},e),{},{searchTrack:t.searchTrack});case"SET_MOST_POPULAR":return Object(X.a)(Object(X.a)({},e),{},{info:t.info});case"SET_TOP_TRACK":return Object(X.a)(Object(X.a)({},e),{},{songs:[].concat(Object(Q.a)(e.songs),[t.trackInfo])});case"CLR_TOP_TRACK":return Object(X.a)(Object(X.a)({},e),{},{songs:[]});case"SET_BOTTOM_TRACKS":return Object(X.a)(Object(X.a)({},e),{},{songsBottom:[].concat(Object(Q.a)(e.songsBottom),[t.trackBottom])});case"CLR_BOTTOM_TRACKS":return Object(X.a)(Object(X.a)({},e),{},{songsBottom:[]});case"SET_ALBUM":return Object(X.a)(Object(X.a)({},e),{},{albums:[].concat(Object(Q.a)(e.albums),[t.albumInfo])});case"CLR_ALBUM":return Object(X.a)(Object(X.a)({},e),{},{albums:[]});default:return e}};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(h,{initialState:{user:null,token:null,playlist:null,discover_weekly:null,playListId:"5Br6IZVPt7wdHMSrchSSb2",trackUri:null,searchAll:null,info:null,songs:[],songsBottom:[],albums:[]},reducer:$,children:Object(j.jsx)(G,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.60076f6b.chunk.js.map